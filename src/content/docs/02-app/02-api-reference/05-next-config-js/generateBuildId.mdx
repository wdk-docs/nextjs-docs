---
title: generateBuildId
description: 配置内部版本id，该id用于标识为应用程序提供服务的当前内部版本。
---

{/* The content of this doc is shared between the app and pages router. You can use the `<PagesOnly>Content</PagesOnly>` component to add content that is specific to the Pages Router. Any shared content should not be wrapped in a component. */}

Next.js 在`next build`过程中生成一个 ID，以标识正在为您的应用程序提供哪个版本的服务。应该使用相同的构建并启动多个容器。

如果要为环境的每个阶段重新构建，则需要生成一个一致的构建 ID，以便在容器之间使用。在`next.config.js`中使用`generateBuildId`命令`:

```jsx filename="next.config.js"
module.exports = {
  generateBuildId: async () => {
    // 这可以是任何东西，使用最新的git哈希
    return process.env.GIT_HASH;
  },
};
```
