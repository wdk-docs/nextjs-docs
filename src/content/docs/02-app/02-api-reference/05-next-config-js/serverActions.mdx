---
title: serverActions
description: 在Next.js应用程序中配置服务器操作行为。
---

用于在 Next.js 应用程序中配置服务器操作行为的选项。

## `allowedOrigins`

可以从中调用服务器操作的额外安全源域的列表。Next.js 将服务器操作请求的来源与主机域进行比较，确保它们匹配以防止 CSRF 攻击。如果未提供，则只允许使用相同的来源。

```js filename="next.config.js"
/** @type {import('next').NextConfig} */

module.exports = {
  experimental: {
    serverActions: {
      allowedOrigins: ["my-proxy.com", "*.my-proxy.com"],
    },
  },
};
```

## `bodySizeLimit`

默认情况下，发送到服务器操作的请求体的最大大小为 1MB，以防止在解析大量数据时消耗过多的服务器资源，以及潜在的 DDoS 攻击。

但是，您可以使用`serverActions.bodySizeLimit`选项配置此限制。它可以采用字节数或字节支持的任何字符串格式，例如`1000`, `'500kb'` 或 `'3mb'`。

```js filename="next.config.js"
/** @type {import('next').NextConfig} */

module.exports = {
  experimental: {
    serverActions: {
      bodySizeLimit: "2mb",
    },
  },
};
```

## 启用服务器操作 (v13)

服务器操作在 Next.js 14 中成为一个稳定的功能，并在默认情况下启用。但是，如果您使用的是早期版本的 Next.js，则可以通过将`experimental.serverActions`设置为`true`来启用它们。

```js filename="next.config.js"
/** @type {import('next').NextConfig} */
const config = {
  experimental: {
    serverActions: true,
  },
};

module.exports = config;
```
